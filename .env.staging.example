# VaultCraft staging environment template
# Copy to .env and adjust secrets before deploying to staging.

# --- Execution flags ---
ENABLE_LIVE_EXEC=0
ENABLE_HYPER_SDK=1
ENABLE_USER_WS_LISTENER=1
ENABLE_SNAPSHOT_DAEMON=1
SNAPSHOT_INTERVAL_SEC=15

# --- Hyper endpoints (staging RPC / REST) ---
HYPER_RPC_URL=https://rpc.hyperliquid-testnet.xyz/evm
HYPER_API_URL=https://api.hyperliquid-testnet.xyz
HYPER_WS_URL=wss://api.hyperliquid-testnet.xyz/ws

# --- Execution risk guardrails ---
EXEC_ALLOWED_SYMBOLS=BTC,ETH
EXEC_MIN_LEVERAGE=1.0
EXEC_MAX_LEVERAGE=10.0
EXEC_MIN_NOTIONAL_USD=10
EXEC_MAX_NOTIONAL_USD=250000
EXEC_MARKET_SLIPPAGE_BPS=50
EXEC_RO_SLIPPAGE_BPS=75
EXEC_RETRY_ATTEMPTS=2
EXEC_RETRY_BACKOFF_SEC=2
APPLY_DRY_RUN_TO_POSITIONS=1
APPLY_LIVE_TO_POSITIONS=1
ENABLE_CLOSE_FALLBACK_RO=1

# --- Operator identity (replace with real keys) ---
PRIVATE_KEY=0xSTAGING_PRIVATE_KEY_PLACEHOLDER
ADDRESS=0xSTAGING_MANAGER_ADDRESS
HYPER_TRADER_PRIVATE_KEY=0xSTAGING_TRADER_PRIVATE_KEY

# --- Backend service paths ---
POSITIONS_FILE=deployments/positions.staging.json
EVENT_LOG_FILE=logs/staging-events.jsonl

# --- Deployment & auth ---
DEPLOYMENT_API_TOKEN=staging-deployment-token

# --- Alerts ---
ALERT_WEBHOOK_URL=https://alerts-staging.example.com/webhook
ALERT_COOLDOWN_SEC=180
ALERT_NAV_DRAWDOWN_PCT=0.05

# --- Logging (see docs/ops/CONFIG.md) ---
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_PATH=logs/staging-backend.log

# --- Frontend ---
NEXT_PUBLIC_BACKEND_URL=https://staging-api.vaultcraft.example.com
NEXT_PUBLIC_RPC_URL=https://rpc.hyperliquid-testnet.xyz/evm
NEXT_PUBLIC_ENABLE_DEMO_TRADING=1
NEXT_PUBLIC_DEFAULT_ASSET_ADDRESS=0xSTAGING_USDC_ADDRESS

# --- Price cache knobs ---
PRICE_TIMEOUT=5
PRICE_CACHE_TTL=2
NAV_CACHE_TTL=2
PRICE_RETRIES=2
PRICE_RETRY_BACKOFF_SEC=0.2
